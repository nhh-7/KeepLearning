##### 参数扩展
###### 基本参数
	![[Pasted image 20241013152750.png]]
###### 管理空变量扩展
	${parameter:-word}
	如果parameter未设置或为空，则使用word作为扩展结果。如果parameter不为空，则使用parameter。

	${parameter:=word}
	如果parameter未设置或为空，则使用word作为扩展结果,并将word的值赋给parameter。如果parameter不为空，则使用parameter。

	${parameter:?word}
	如果parameter未设置或为空，则脚本退出并返回错误信息，word会被发送至标准错误。如果parameter不为空，则使用parameter。

	${parameter:+word}
	如果parameter未设置或为空，则扩展结果为空。如果parameter不为空，则word为扩展结果。
###### 返回变量名的扩展
	${!prefix*}
	${!prefix@}
	返回以prefix开头的现有变量名
###### 字符串操作
	${#parameter} 扩展结果为parameter字符串的长度。

	${parameter:offset}
	${parameter:offset:length}
	提取位置从字符串开头的第offset个字符开始，一直到字符串结束（除非指定了length）
	
	![[Pasted image 20241013154951.png]]
	
	如果offset为负值，表示从字符串结尾开始算，再到字符串结束，注意要在offset前加空格，不然会与空变量扩展混淆 。
	
	![[Pasted image 20241013155217.png]]
	
	${parameter#pattern}
	${parameter##pattern}
	从 parameter 字符串首部开始，删除符合模式pattern的部分。
	
	![[Pasted image 20241013155502.png]]
	
	#删除的是最短匹配，##删除的是最长匹配

	${parameter%pattern}
	${parameter%%pattern}
	和上面功能相同，只是是从parameter字符串结尾开始删除。
	
	![[Pasted image 20241013155727.png]]
	
	${parameter/pattern/string}
	${parameter//pattern/string}
	${parameter/#pattern/string}
	${parameter/%pattern/string}
	进行查找-替换。普通的 只会替换第一处匹配的地方。//全部替换；/#从字符串首部开始匹配；/%从字符串尾部开始替换。
	忽略/string的话，效果就是删除所匹配的文本。
###### 大小写转换
	![[Pasted image 20241013160609.png]]
	
	declare能强制变量使用声明的大小写格式。
	
	![[Pasted image 20241013160833.png]]

	![[Pasted image 20241013161130.png]]
##### 算术求值与扩展
###### 数字基数
	![[Pasted image 20241013162730.png]]
###### 一元操作符
###### 简单算术
###### 位操作
	位操作符工作在二进制位层面，
	
	![[Pasted image 20241013163237.png]]
	除了按位取反，其他位操作符都有对应的赋值操作符（如 <<=）
	
##### bc-任意精度计算器语言
	bc脚本
	
	![[Pasted image 20241013164220.png]]

###### 使用bc
	![[Pasted image 20241013164250.png]]

	直接输入bc可以交互使用；  -q选项禁止输出版权信息

	![[Pasted image 20241013164413.png]]

	![[Pasted image 20241013164440.png]]
	可以通过标准输入将 脚本传入bc
	所以也能够使用here document、here string、管道将脚本传入bc
	