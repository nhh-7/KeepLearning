#### 聚集函数
	聚集函数（ aggregate function）：运行在行组上，计算和返回单个值的函数

![[Pasted image 20240725160826.png]]

##### AVG()函数
	AVG()通过对表中行数计数并计算特定列值之和，求得该列的平均值。 AVG()可用来返回所有列的平均值，也可以用来返回特定列或行的平均值。
	AVG()只能用来确定特定数值列的平均值，而且列名必须作为函数参数给出。
	SELECT AVG(prod_price) AS avg_price FROM products WHERE vend_id = 1003;

##### COUNT()函数
	COUNT()函数进行计数。 可利用COUNT()确定表中行的数目或符合特定条件的行的数目
	COUNT()函数有两种使用方式。
	使用COUNT(*)对表中行的数目进行计数， 不管表列中包含的是空值（ NULL）还是非空值。
	SELECT COUNT(*) as num_cust FROM customers;
	
	使用COUNT(column)对特定列中具有值的行进行计数，忽略NULL值。
	SELECT COUNT(cust_email) AS num_cust FROM customers;
	这条SELECT语句使用COUNT(cust_email)对cust_email列中有值的行进行计数。

##### MAX()函数
	MAX()返回指定列中的最大值。MAX()要求指定列名
	SELECT MAX(prod_price) AS max_price FROM products;
	虽然MAX()一般用来找出最大的数值或日期值，但MySQL允许将它用来返回任意列中的最大值，包括返回文本列中的最大值。在用于文本数据时，如果数据按相应的列排序，则MAX()返回最后一行。
	MAX()函数忽略列值为NULL的行

##### MIN()函数
	SELECT MIN(prod_price) AS min_price FROM products;

##### SUM()函数
	SUM()用来返回指定列值的和（总计）。
	SELECT SUM(quantity) as items_ordered FROM orderitems WHERE order_num = 20005;

##### 聚集不同值
	上面的聚集函数都可如下使用：
	对所有的行执行计算，指定ALL参数或不给参数（因为ALL是默认行为）；
	只包含不同的值，指定DISTINCT参数。
	SELECT AVG(DISTINCT prod_price) AS avg_price FROM products WHERE vend_id = 1003;
	使用DISTINCT关键字，可以使SELECT只取不同的值，也就是相同的值只会取一遍
	DISTINCT后面必须加列名

##### 组合聚集函数

	SELECT COUNT(*) AS num_items, MIN(prod_price) AS price_min, MAX(prod_price) AS price_max, AVG(prod_price) AS price_avg FROM products

