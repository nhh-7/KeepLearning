	两个最常使用的引擎为MyISAM和InnoDB，前者支持全文本搜索，而后者不支持。
	在使用全文本搜索时， MySQL不需要分别查看每个行，不需要分别分析和处理每个词。 MySQL创建指定列中各词的一个索引，搜索可以针对这些词进行。

#### 使用全文本搜索
	为了进行全文本搜索，必须索引被搜索的列，而且要随着数据的改变不断地重新索引。在对表列进行适当设计后， MySQL会自动进行所有的索引和重新索引。
	在索引之后， SELECT可与Match()和Against()一起使用以实际执行搜索。

##### 启用全文本搜索支持
	一般在创建表时启用全文本搜索，CREATE TABLE语句接受FULLTEXT子句，它给出被索引列的一个逗号分隔的列表。
	在定义之后， MySQL自动维护该索引。在增加、更新或删除行时，索引随之自动更新

##### 进行全文本搜索
	在索引之后，使用两个函数Match()和Against()执行全文本搜索，其中Match()指定被搜索的列， Against()指定要使用的搜索表达式。
	SELECT note_text
	FROM productnotes
	WHERE Match(note_text) Against('rabbit');
	使用全文本搜索返回以文本匹配的良好程度排序的数据。两个行都包含词rabbit，但包含词rabbit作为第3个词的行的等级比作为第20个词的行高。这很重要。全文本搜索的一个重要部分就是对结果排序。具有较高等级的行先返回。

##### 使用查询扩展
	SELECT note_text
	FROM productnotes
	WHERE Match(note_text) Against('anvils' WITH QUERY EXPANSION);
	查询扩展用来设法放宽所返回的全文本搜索结果的范围。
	上述例子中，如果不使用 查询扩展 则只会返回一个包含anvils的文本，但使用了查询扩展，MySQL会分析这个唯一的查询结果，得到可能有用的词，然后再根据这些词重新进行一次全文本搜索，然后返回更多的行数。

##### 布尔文本搜索
	以布尔方式，可以提供关于如下内容的细节：
	 要匹配的词；
	 要排斥的词（如果某行包含这个词，则不返回该行，即使它包含
	其他指定的词也是如此）；
	 排列提示（指定某些词比其他词更重要，更重要的词等级更高）；
	 表达式分组；
	 另外一些内容。
	没有FULLTEXT索引也可以使用 布尔方式不同于迄今为止使用的全文本搜索语法的地方在于，即使没定义FULLTEXT索引，也可以使用它。但这是一种非常缓慢的操作。
	SELECT note_text
	FROM productnotes
	WHERE Match(note_text) Against('heavy -rope*' IN BOOLEAN MODE);
	-rope*明确地指示MySQL排除包含rope*（任何以rope开始的词，包括ropes）的行

![[Pasted image 20240726160804.png]]

![[Pasted image 20240726160837.png]]

##### 全文本搜索的注意事项
	 在索引全文本数据时，短词被忽略且从索引中排除。短词定义为那些具有3个或3个以下字符的词（如果需要，这个数目可以更改）。
	 MySQL带有一个内建的非用词（stopword）列表，这些词在索引全文本数据时总是被忽略。如果需要，可以覆盖这个列表。
	 许多词出现的频率很高，搜索它们没有用处（返回太多的结果）。因此，MySQL规定了一条50%规则，如果一个词出现在50%以上的行中，则将它作为一个非用词忽略。 50%规则不用于IN BOOLEANMODE。
	 如果表中的行数少于3行，则全文本搜索不返回结果（因为每个词或者不出现，或者至少出现在50%的行中）。
	 忽略词中的单引号。例如， don't索引为dont。
	 不具有词分隔符（包括日语和汉语）的语言不能恰当地返回全文本搜索结果。
	 如前所述，仅在MyISAM数据库引擎中支持全文本搜索。